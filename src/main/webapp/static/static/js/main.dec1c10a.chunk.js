(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{162:function(e,t,a){e.exports=a(360)},360:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(28),r=a.n(i),o=a(19),s=a(25),c=a(21),d=a(20),m=a(22),u=a(364),h=a(24),p=a(361),g=a(148),b=a.n(g),f=a(42),E=a.n(f),v=a(16),C=a.n(v),w=a(12),y=a.n(w),k=a(58),S=a.n(k),O=a(52),R=a.n(O),D=a(17),N=a.n(D),M=a(76),j=a.n(M),P=a(66),F=a.n(P),L=a(35),T=a(147),I=a.n(T);function x(e,t,a,n,l){for(var i in a)a[i]+="";B(e,t,{integerList:null,data:{filter:a}},n,l)}function B(e,t,a,n,l){fetch("/getawr/rest/"+e,{method:"post",headers:new Headers({"content-type":"application/json;charset=UTF-8"}),body:JSON.stringify({id:I()().toString(),time:Date.UTC(),type:t,body:Object(L.a)({},a)})}).then(function(e){403!==e.status?e.json().then(n):void 0!==l&&null!==l&&l(e)})}var A=function(e){return l.a.createElement(p.a,e)},q=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).handleLogout=function(){var e;e=function(e){localStorage.setItem("isAuth","0"),a.setState({isLogged:!1})},fetch("/getawr/rest/edit/out",{method:"post"}).then(e)},a.handleCloseModal=function(){a.setState({isSuggestModalOpen:!1})},a.handleSuggestLogin=function(){a.setState({isSuggestModalOpen:!0})},a.state={isLogged:!1,isSuggestModalOpen:!1};try{"1"===localStorage.getItem("isAuth")?a.state.isLogged=!0:a.state.isLogged=!1}catch(n){console.log(n),localStorage.setItem("isAuth","0")}return a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.isLogged,n=t.isSuggestModalOpen;return l.a.createElement(b.a,null,l.a.createElement(E.a,null,l.a.createElement(y.a,{variant:"h6",color:"inherit"},"Get Oracle AWR"),l.a.createElement(C.a,{className:e.navButton,component:A,to:"/",color:"inherit"},"home"),l.a.createElement(C.a,{className:e.navButton,component:A,to:"/history",color:"inherit"},"History"),a?l.a.createElement(l.a.Fragment,null,l.a.createElement(C.a,{className:e.navButton,component:A,to:"/edit-list-db",color:"inherit"},"Edit list DB"),l.a.createElement(C.a,{className:e.loginButton,onClick:this.handleLogout,color:"inherit"},"Logout")):l.a.createElement(l.a.Fragment,null,l.a.createElement(C.a,{className:e.navButton,onClick:this.handleSuggestLogin,color:"inherit"},"Edit list DB"),l.a.createElement(C.a,{className:e.loginButton,component:A,to:"/login",color:"inherit"},"Login"))),l.a.createElement(S.a,{disableRestoreFocus:!0,open:n,onClose:this.handleCloseModal},l.a.createElement(N.a,{style:{padding:20}},l.a.createElement(F.a,null,"You are not logged in"),l.a.createElement("hr",null),l.a.createElement(j.a,null,l.a.createElement(y.a,{variant:"h6",color:"inherit",style:{margin:20}},"Only authorized users can access this page. Please log in if you need to edit your Oracle database connection information.")),l.a.createElement("hr",null),l.a.createElement(R.a,{style:{marginTop:20}},l.a.createElement(C.a,{onClick:this.handleCloseModal,color:"inherit"},"Close"),l.a.createElement(C.a,{style:{marginLeft:10},component:A,to:"/login",color:"inherit"},"Login")))))}}]),t}(n.Component),W=Object(h.withStyles)({loginButton:{marginLeft:"auto"},navButton:{whiteSpace:"nowrap",marginLeft:"10px"}})(q),G=a(59),z=a(36),H=a.n(z),J=a(160),Y=a(2),U=a.n(Y),V=a(79),X=a.n(V),$=a(81),K=a.n($),Q=a(18),Z=a.n(Q),_=a(80),ee=a.n(_),te=a(82),ae=a.n(te),ne=a(47),le=a.n(ne),ie=a(23),re=a.n(ie),oe=a(26),se=a.n(oe),ce=a(38),de=a.n(ce),me=a(78),ue=a.n(me),he=a(77),pe=a.n(he),ge=a(45),be=a.n(ge),fe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).handleChangePage=function(e,t){if(!a.state.isLoad){var n=a.innerMeta,l=n.endPointRequest,i=n.typeRequest,r=n.numRows,o=n.filter;a.setState({data:[],page:t,isLoad:!0}),x(l,i,Object(L.a)({pageNumber:t,countRowsPerPage:r},o),function(e){a.setState({data:e.body.data,numAllRows:e.body.properties.allRows,isLoad:!1})},a.forbidenCallBack)}},a.handleDeleteFilter=function(){var e=!1,t=!1,n=a.innerMeta,l=n.endPointRequest,i=n.typeRequest,r=n.numRows;for(var o in a.state.filterDraft)if(""!==a.state.filterDraft[o]){t=!0;break}for(var s in a.innerMeta.filter)if(""!==a.innerMeta.filter[s]){e=!0;break}if(t){var c=a.state.filterDraft;for(var d in c)c[d]="";a.setState({filterDraft:c})}e&&(a.innerMeta.filter={},a.setState({data:[],page:0,isLoad:!0}),x(l,i,{pageNumber:0,countRowsPerPage:r},function(e){a.setState({data:e.body.data,numAllRows:e.body.properties.allRows,isLoad:!1,isNotFound:!1})},a.forbidenCallBack))},a.handleChangeFilter=function(e){return function(t){var n=a.state.filterDraft;n[e]=t.target.value,a.setState({filterDraft:n})}},a.refreshPage=function(e){var t=a.innerMeta,n=t.endPointRequest,l=t.typeRequest,i=t.numRows,r=t.filter;x(n,l,Object(L.a)({pageNumber:e,countRowsPerPage:i},r),function(e){a.setState({data:e.body.data,numAllRows:e.body.properties.allRows,isLoad:!1,isNotFound:0===e.body.data.length})},a.forbidenCallBack)},a.handleApplyFilter=function(){var e=!1;for(var t in a.state.filterDraft)if(""!==a.state.filterDraft[t]){e=!0;break}if(e){for(var n in a.innerMeta.filter={},a.state.filterDraft)""!==a.state.filterDraft[n]&&(a.innerMeta.filter[n]=a.state.filterDraft[n]);var l=a.innerMeta,i=l.endPointRequest,r=l.typeRequest,o=l.numRows,s=l.filter;a.setState({data:[],page:0,isLoad:!0}),x(i,r,Object(L.a)({pageNumber:0,countRowsPerPage:o},s),function(e){a.setState({data:e.body.data,numAllRows:e.body.properties.allRows,isLoad:!1,isNotFound:0===e.body.data.length})},a.forbidenCallBack)}},a.innerMeta={},a.innerMeta.numRows=e,a.innerMeta.filter={},a.innerMeta.endPointRequest="unknown",a.innerMeta.typeRequest="unknown",a.forbidenCallBack=function(){localStorage.setItem("isAuth","0"),a.setState({forbidden:!0,isOpenModal:!0})},a.innerMeta.initMethod=function(){x(a.innerMeta.endPointRequest,a.innerMeta.typeRequest,{pageNumber:0,countRowsPerPage:e},function(e){a.setState({data:e.body.data,numAllRows:e.body.properties.allRows,isLoad:!1})},a.forbidenCallBack)},a}return Object(m.a)(t,e),t}(n.Component),Ee=a(34),ve=a.n(Ee),Ce=5,we=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this,Ce))).state={selectedRow:{},filterDraft:{name:"",os:"",version:""},page:0,numAllRows:0,data:[],isLoad:!0,isNotFound:!1},e.handleClickRow=function(t){return function(){e.state.isLoad||(e.setState({selectedRow:t}),e.props.handleGetPeriods(!0),B("home","periods",{integerList:[t.id],data:null},function(a){e.props.handleGetPeriods(!1,a,t)}))}},e.isSelectedRow=function(t){return t===e.state.selectedRow.id},e.innerMeta.endPointRequest="home",e.innerMeta.typeRequest="content",e.innerMeta.initMethod(),e.innerMeta.initMethod=null,e.innerMeta.templateEmptyFilterDraft={name:"",os:"",version:""},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.page,n=t.numAllRows,i=t.data,r=t.isLoad,o=t.filterDraft,s=t.isNotFound,c=Ce-i.length,d=this.props.classes;return l.a.createElement(N.a,null,l.a.createElement(E.a,null,l.a.createElement(y.a,{variant:"h6",id:"tableTitle"},"Please select database"),l.a.createElement("div",{className:d.spacer}),l.a.createElement("div",{className:d.actions},r?l.a.createElement(be.a,{variant:"indeterminate",disableShrink:!0,className:d.spiner,size:24,thickness:4}):l.a.createElement(l.a.Fragment,null,l.a.createElement(de.a,{disableFocusListener:!0,placement:"top",title:"Clear filter"},l.a.createElement(se.a,{className:d.toolBarElement,onClick:this.handleDeleteFilter,"aria-label":"Clear filter"},l.a.createElement(pe.a,null))),l.a.createElement(de.a,{disableFocusListener:!0,placement:"top",title:"Aply filter"},l.a.createElement(se.a,{className:d.toolBarElement,onClick:this.handleApplyFilter,"aria-label":"Aply filter"},l.a.createElement(ue.a,null)))))),l.a.createElement(X.a,{className:d.table},l.a.createElement(ee.a,null,l.a.createElement(le.a,{className:d.tableRow},l.a.createElement(Z.a,{className:d.tableCellName,align:"left"},l.a.createElement(re.a,{id:"outlined-name",label:"Name",value:o.name,onChange:this.handleChangeFilter("name"),margin:"normal",variant:"outlined"})),l.a.createElement(Z.a,{className:d.tableCellOther,align:"left"},l.a.createElement(re.a,{id:"outlined-os",label:"OS",onChange:this.handleChangeFilter("os"),value:o.os,margin:"normal",variant:"outlined"})),l.a.createElement(Z.a,{className:d.tableCellOther,align:"left"},l.a.createElement(re.a,{id:"outlined-version",label:"Version",onChange:this.handleChangeFilter("version"),value:o.version,margin:"normal",variant:"outlined"})))),l.a.createElement(K.a,null,i.map(function(t){return l.a.createElement(le.a,{hover:!r,selected:e.isSelectedRow(t.id),onClick:e.handleClickRow(t),className:d.tableRow,key:t.id},l.a.createElement(Z.a,null,t.name),l.a.createElement(Z.a,null,t.os),l.a.createElement(Z.a,null,t.version))}),c>0&&l.a.createElement(le.a,{style:{height:48*c}},l.a.createElement(Z.a,{colSpan:3},l.a.createElement(ve.a,{in:c===Ce},l.a.createElement(y.a,{variant:"h6",id:"tableTitle"},s?"Not found, please change filter":"Loading...")))))),l.a.createElement(ae.a,{rowsPerPageOptions:[5],component:"div",count:n,rowsPerPage:Ce,page:a,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage}))}}]),t}(fe);we.propTypes={classes:U.a.object.isRequired};var ye=Object(h.withStyles)({table:{minWidth:600},tableCellButton:{width:98,minWidth:98},actions:{marginLeft:"auto"},toolBarElement:{marginLeft:10},tableCellName:{minWidth:"45%",width:"45%"},tableCellOther:{minWidth:"34%",width:"34%"},spiner:{color:"#6798e5",animationDuration:"550ms"}})(we),ke=a(153),Se=a.n(ke),Oe=a(85),Re=a.n(Oe),De=a(86),Ne=a.n(De),Me=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={isLoad:!1,dbId:null,isOpenSnackbar:!1,snackbarStatus:"",minIntervalDuration:null,beginIntervalTime:new Date,endIntervalTime:new Date,selectedDateFrom:new Date,selectedDateTo:new Date,isNotStatePicker:!0,selectedRow:{}},a.handleCloseSnackbar=function(){a.setState({isOpenSnackbar:!1,snackbarStatus:""})},a.handleGetPeriods=function(e,t,n){if(e)a.setState({isLoad:!0,isNotStatePicker:!0});else{if(!t.success)return void a.setState({isLoad:!1,dbId:null,isOpenSnackbar:!0,snackbarStatus:t.body,minIntervalDuration:null,beginIntervalTime:null,endIntervalTime:null,selectedDateFrom:null,selectedDateTo:null,isNotStatePicker:!0,selectedRow:{}});var l=t.body.data,i=0;l.length>1&&l[0].dbId===l[1].dbId&&++i,a.setState({isLoad:!1,dbId:l[0].dbId,minIntervalDuration:l[0].endIntervalTime-l[0].beginIntervalTime+5e5,beginIntervalTime:new Date(l[0].beginIntervalTime-6e5),endIntervalTime:new Date(l[i].endIntervalTime+6e5),selectedDateFrom:new Date(l[i].beginIntervalTime),selectedDateTo:new Date(l[i].endIntervalTime),isNotStatePicker:!1,selectedRow:n})}},a.handleGetReport=function(){a.setState({isLoad:!0,isNotStatePicker:!0});var e=a.state,t=e.selectedDateFrom,n=e.selectedDateTo,l=e.selectedRow;x("home","awr",{dbId:a.state.dbId,dateFrom:t.toISOString(),dateTo:n.toISOString(),tennantId:l.id},function(e){a.setState({isLoad:!1,isNotStatePicker:!1}),e.success||a.setState({isOpenSnackbar:!0,snackbarStatus:e.body}),window.open("about:blank","awr report","").document.write(e.body),e.body=null})},a.handleDateChangeFrom=function(e){var t=a.state,n=t.beginIntervalTime,l=t.minIntervalDuration,i=t.selectedDateTo;e-n<0?a.setState({selectedDateFrom:n}):i-e<l?a.setState({selectedDateFrom:new Date(+i-l)}):a.setState({selectedDateFrom:e})},a.handleDateChangeTo=function(e){var t=a.state,n=t.endIntervalTime,l=t.minIntervalDuration,i=t.selectedDateFrom;n-e<0?a.setState({selectedDateTo:n}):e-i<l?a.setState({selectedDateTo:new Date(+i+l)}):a.setState({selectedDateTo:e})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.isLoad,n=t.isNotStatePicker,i=t.selectedDateFrom,r=t.selectedDateTo,o=t.beginIntervalTime,s=t.endIntervalTime,c=t.snackbarStatus,d=t.isOpenSnackbar,m=t.selectedRow;return l.a.createElement(l.a.Fragment,null,l.a.createElement(W,null),l.a.createElement("div",{className:e.root},l.a.createElement(N.a,{className:e.paperRoot},l.a.createElement(ye,{handleGetPeriods:this.handleGetPeriods}),l.a.createElement("div",{className:e.divider}),l.a.createElement(G.b,{utils:J.a},l.a.createElement(N.a,{className:e.paperPickers},l.a.createElement("div",{style:{height:10}},l.a.createElement(ve.a,{in:a},l.a.createElement(Se.a,{color:"secondary"}))),l.a.createElement("div",{style:{height:10}},l.a.createElement(ve.a,{in:!n},l.a.createElement(y.a,{variant:"body1",color:"inherit"},"For DB: ",m.name,", awr interval about ",parseInt((this.state.minIntervalDuration-5e5)/6e4)," minuts"))),l.a.createElement(H.a,{container:!0,spacing:0},l.a.createElement(H.a,{container:!0,spacing:0},l.a.createElement(H.a,{className:e.gridForTypography,item:!0,xs:2},l.a.createElement(y.a,{variant:"body1",color:"inherit"},"From period:")),l.a.createElement(H.a,{item:!0,xs:4},l.a.createElement(G.a,{disabled:n,maxDate:r,minDate:o,className:e.picker,label:"Date",value:i,onChange:this.handleDateChangeFrom})),l.a.createElement(H.a,{item:!0,xs:4},l.a.createElement(G.c,{disabled:n,maxDate:r,minDate:o,className:e.picker,label:"Time",value:i,onChange:this.handleDateChangeFrom}))),l.a.createElement(H.a,{container:!0,spacing:0},l.a.createElement(H.a,{className:e.gridForTypography,item:!0,xs:2},l.a.createElement(y.a,{className:e.typography,variant:"body1",color:"inherit"},"To period:")),l.a.createElement(H.a,{item:!0,xs:4},l.a.createElement(G.a,{disabled:n,maxDate:s,minDate:i,className:e.picker,label:"Date",value:r,onChange:this.handleDateChangeTo})),l.a.createElement(H.a,{item:!0,xs:4},l.a.createElement(G.c,{disabled:n,maxDate:s,minDate:i,className:e.picker,label:"Time",value:r,onChange:this.handleDateChangeTo}))),l.a.createElement(H.a,{container:!0,spacing:0},l.a.createElement(H.a,{item:!0,className:e.gridButtons,xs:12},l.a.createElement(C.a,{disabled:n,variant:"contained",color:"secondary",onClick:this.handleGetReport,className:e.buttons},"Get report")))))))),l.a.createElement(Re.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:d,autoHideDuration:8e3,onClose:this.handleCloseSnackbar,ContentProps:{"aria-describedby":"message-id"},message:l.a.createElement("span",{id:"message-id"},c),action:[l.a.createElement(se.a,{key:"close","aria-label":"Close",color:"inherit",className:e.snackbar,onClick:this.handleCloseSnackbar},l.a.createElement(Ne.a,null))]}))}}]),t}(n.Component),je=Object(h.withStyles)(function(e){return{root:{width:750,minWidth:750,marginTop:7*e.spacing.unit,padding:3*e.spacing.unit},paperRoot:{padding:3*e.spacing.unit},paperPickers:{marginTop:2*e.spacing.unit,padding:3*e.spacing.unit},gridButtons:{display:"flex",justifyContent:"flex-end"},picker:{marginTop:20,marginLeft:"20%"},gridForTypography:{display:"flex",alignItems:"flex-end",marginLeft:10},buttons:{marginTop:"5%"},snackbar:{padding:e.spacing.unit/2}}},{withTheme:!0})(Me),Pe=a(161),Fe=a(104),Le=a.n(Fe),Te=a(156),Ie=a.n(Te),xe=a(75),Be=a(6),Ae=a.n(Be),qe=a(154),We=a.n(qe),Ge=a(155),ze=a.n(Ge),He=a(44),Je=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.numSelected,a=e.classes;return l.a.createElement(E.a,{className:Ae()(a.root,Object(xe.a)({},a.highlight,t>0))},l.a.createElement("div",{className:a.title},t>0?l.a.createElement(y.a,{color:"inherit",variant:"subtitle1"},t," selected"):l.a.createElement(y.a,{variant:"h6",id:"tableTitle"},"List of database instance records")),l.a.createElement("div",{className:a.spacer}),l.a.createElement("div",{className:a.actions},t>0?l.a.createElement(de.a,{placement:"top",title:"Delete"},l.a.createElement(se.a,{onClick:this.props.handleDeleteRows,"aria-label":"Delete"},l.a.createElement(We.a,null))):l.a.createElement(l.a.Fragment,null,this.props.isLoad?l.a.createElement(be.a,{variant:"indeterminate",disableShrink:!0,className:a.spiner,size:24,thickness:4}):l.a.createElement(l.a.Fragment,null,l.a.createElement(de.a,{disableFocusListener:!0,placement:"top",title:"Clear filter"},l.a.createElement(se.a,{className:a.toolBarElement,onClick:this.props.handleDeleteFilter,"aria-label":"Clear filter"},l.a.createElement(pe.a,null))),l.a.createElement(de.a,{disableFocusListener:!0,placement:"top",title:"Aply filter"},l.a.createElement(se.a,{className:a.toolBarElement,onClick:this.props.handleApplyFilter,"aria-label":"Aply filter"},l.a.createElement(ue.a,null)))),l.a.createElement(de.a,{disableFocusListener:!0,placement:"top",title:"Add record"},l.a.createElement(se.a,{color:"secondary",className:a.toolBarElement,onClick:this.props.hadleClickModalRowOpen(!1),"aria-label":"Add record"},l.a.createElement(ze.a,null))))))}}]),t}(n.Component),Ye=Object(h.withStyles)(function(e){return{root:{paddingRight:e.spacing.unit},highlight:{color:e.palette.secondary.main,backgroundColor:Object(He.lighten)(e.palette.secondary.light,.85)},spacer:{flex:"1 1 100%"},actions:{display:"flex",color:e.palette.text.secondary,minWidth:300,justifyContent:"flex-end",alignItems:"center",padding:15},title:{flex:"0 0 auto"},toolBarElement:{marginLeft:10},spiner:{color:"#6798e5",animationDuration:"550ms"}}})(Je),Ue=a(84),Ve=a.n(Ue),Xe=function(e){return l.a.createElement(p.a,e)},$e=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(S.a,{disableRestoreFocus:!0,open:this.props.open,onClose:this.props.hadleClickModalRowClose,"aria-labelledby":"form-dialog-title"},this.props.forbidden?l.a.createElement(l.a.Fragment,null,l.a.createElement(N.a,{style:{padding:20}},l.a.createElement(F.a,null,"Access forbidden..."),l.a.createElement("hr",null),l.a.createElement(j.a,null,l.a.createElement(y.a,{variant:"h6",color:"inherit",style:{margin:20}},"You were logged out, or session timed out. If you need to continue editing on this page, please login again.")),l.a.createElement("hr",null),l.a.createElement(R.a,{style:{marginTop:20}},l.a.createElement(C.a,{onClick:this.props.hadleClickModalRowClose,color:"inherit"},"Close"),l.a.createElement(C.a,{style:{marginLeft:10},component:Xe,to:"/login",color:"inherit"},"Login")))):l.a.createElement("form",{autocomplete:"off",action:"#",onSubmit:this.props.hadleClickModalSubmit},l.a.createElement(F.a,{id:"form-dialog-title"},l.a.createElement(y.a,{color:"inherit",variant:"inherit"},"You can ",this.props.isEditModalType?"edit":"add"," info about Oracle DB connection")),l.a.createElement(Ve.a,null,l.a.createElement(re.a,{required:!0,margin:"dense",id:"name",label:"DB name (name)",fullWidth:!0,onChange:this.props.handleChangeRowModal("name"),value:this.props.values.name}),l.a.createElement(re.a,{required:!0,margin:"dense",id:"host",label:"Host",fullWidth:!0,onChange:this.props.handleChangeRowModal("host"),value:this.props.values.host}),l.a.createElement(re.a,{required:!0,margin:"dense",id:"port",label:"Port",fullWidth:!0,onChange:this.props.handleChangeRowModal("port"),value:this.props.values.port}),l.a.createElement(re.a,{required:!0,margin:"dense",id:"sid",label:"Sid",fullWidth:!0,onChange:this.props.handleChangeRowModal("sid"),value:this.props.values.sid}),l.a.createElement(re.a,{required:!0,margin:"dense",id:"login",label:"Login",fullWidth:!0,onChange:this.props.handleChangeRowModal("login"),value:this.props.values.login}),l.a.createElement(de.a,{placement:"bottom-start",title:this.props.isEditModalType?"If you want edit reenter all password, or just don't change":""},l.a.createElement(re.a,{required:!0,margin:"dense",id:"pass",label:"Password",onChange:this.props.handleChangeRowModal("pass"),value:this.props.values.pass,type:"password",fullWidth:!0}))),l.a.createElement("div",{style:{display:"flex",flexDirection:"row",padding:20}},l.a.createElement(y.a,{style:{padding:10},color:"inherit",variant:"inherit"},"status: ",this.props.statusModal),"performing request, please wait"===this.props.statusModal&&l.a.createElement(be.a,{variant:"indeterminate",disableShrink:!0,style:{marginLeft:"auto",color:"#6798e5",animationDuration:"550ms"},size:24,thickness:4})),l.a.createElement(R.a,null,l.a.createElement(C.a,{onClick:this.props.hadleClickModalRowClose,color:"primary"},"Cancel"),l.a.createElement(C.a,{disabled:"performing request, please wait"===this.props.statusModal,type:"submit",color:"primary"},"Submit")))))}}]),t}(n.Component),Ke=a(363),Qe=10,Ze=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this,Qe))).state={forbidden:!1,filterDraft:{name:"",host:"",port:"",sid:"",login:""},page:0,numAllRows:0,data:[],isLoad:!0,isNotFound:!1,isOpenModal:!1,selected:[],rowDataModal:{id:"",name:"",host:"",port:"",sid:"",login:"",pass:""},statusModal:"on open...",isEditModalType:!1,isOpenDeleteSnackbar:!1,deleteStatus:""},e.handleCloseSnackbar=function(){e.setState({isOpenDeleteSnackbar:!1})},e.handleDeleteRows=function(){var t,a,n;e.setState({data:[],page:0,isLoad:!0,selected:[]}),t=e.state.selected,a=function(t){e.setState({isOpenDeleteSnackbar:!0,deleteStatus:t.body}),e.refreshPage(0)},B("edit","delete",{integerList:t=t.map(function(e){return parseInt(e,10)}),data:null},a,n)},e.handleChangeRowModal=function(t){return function(a){var n=e.state.rowDataModal;"port"!==t||/^\d*$/.test(a.target.value)?n[t]=a.target.value:n[t]="",e.setState({rowDataModal:n})}},e.hadleClickModalSubmit=function(t){var a=e.state.rowDataModal,n="insert";if(e.state.isEditModalType){var l=0;for(var i in n="update",a)a[i]!==e.innerMeta.notEditingRow[i]&&++l;if(0===l)return}e.setState({statusModal:"performing request, please wait"}),function(e,t,a,n){for(var l in t)t[l]+="";B("edit",e,{integerList:null,data:{credential:t}},a,n)}(n,a,function(t){"performing request, please wait"===e.state.statusModal&&(e.setState({statusModal:t.body}),"row updated successfully"===t.body&&(e.innerMeta.notEditingRow=Object(L.a)({},a)))})},e.hadleClickModalRowOpen=function(t,a){return function(){t?(e.innerMeta.notEditingRow=Object(L.a)({},a),e.innerMeta.notEditingRow.pass="================"):e.innerMeta.notEditingRow={name:"",host:"",port:"",sid:"",login:"",pass:""},e.setState({isOpenModal:!0,isEditModalType:t,rowDataModal:Object(L.a)({},e.innerMeta.notEditingRow),statusModal:"on open..."})}},e.hadleClickModalRowClose=function(){e.setState({isOpenModal:!1,statusModal:"on close..."}),e.refreshPage(e.state.page)},e.handleCheckBoxRow=function(t){return function(){var a=Object(Pe.a)(e.state.selected),n=a.indexOf(t);-1===n?a.push(t):a.splice(n,1),e.setState({selected:a})}},e.handleCheckBoxAllRow=function(t){t.target.checked?e.setState({selected:e.state.data.map(function(e){return e.id})}):e.setState({selected:[]})},e.isSelected=function(t){return-1!==e.state.selected.indexOf(t)},e.isAllSelected=function(){return 0!==e.state.data.length&&e.state.selected.length===e.state.data.length},e.innerMeta.endPointRequest="edit",e.innerMeta.typeRequest="content",e.innerMeta.initMethod(),e.innerMeta.initMethod=null,e.innerMeta.notEditingRow={},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.forbidden,n=t.filterDraft,i=t.page,r=t.numAllRows,o=t.data,s=t.isLoad,c=t.isNotFound,d=t.isOpenModal,m=t.selected,u=t.rowDataModal,h=t.statusModal,p=t.isEditModalType,g=t.isOpenDeleteSnackbar,b=t.deleteStatus,f=Qe-o.length,E=this.props.classes;return!a||d?l.a.createElement("div",{className:E.root},l.a.createElement(N.a,{className:E.paperRoot},l.a.createElement(N.a,{className:E.paperTable},l.a.createElement(Ye,{handleApplyFilter:this.handleApplyFilter,handleDeleteFilter:this.handleDeleteFilter,hadleClickModalRowOpen:this.hadleClickModalRowOpen,handleDeleteRows:this.handleDeleteRows,numSelected:m.length,isLoad:s}),l.a.createElement(X.a,null,l.a.createElement(ee.a,null,l.a.createElement(le.a,{className:E.tableRow},l.a.createElement(Z.a,{padding:"none",className:E.tableCellButton},l.a.createElement(Le.a,{onChange:this.handleCheckBoxAllRow,checked:this.isAllSelected()})),l.a.createElement(Z.a,{padding:"dense",className:E.tableCellName,align:"left"},l.a.createElement(re.a,{id:"outlined-name",label:"DB name",value:n.name,onChange:this.handleChangeFilter("name"),margin:"normal",variant:"outlined"})),l.a.createElement(Z.a,{padding:"dense",className:E.tableCellOther,align:"left"},l.a.createElement(re.a,{id:"outlined-host",label:"Host",value:n.host,onChange:this.handleChangeFilter("host"),margin:"normal",variant:"outlined"})),l.a.createElement(Z.a,{padding:"dense",className:E.tableCellPortSid,align:"left"},l.a.createElement(re.a,{id:"outlined-port",label:"Port",value:n.port,onChange:this.handleChangeFilter("port"),margin:"normal",variant:"outlined"})),l.a.createElement(Z.a,{padding:"dense",className:E.tableCellPortSid,align:"left"},l.a.createElement(re.a,{id:"outlined-sid",label:"Sid",value:n.sid,onChange:this.handleChangeFilter("sid"),margin:"normal",variant:"outlined"})),l.a.createElement(Z.a,{padding:"dense",className:E.tableCellOther,align:"left"},l.a.createElement(re.a,{id:"outlined-login",label:"Login",value:n.login,onChange:this.handleChangeFilter("login"),margin:"normal",variant:"outlined"})))),l.a.createElement(K.a,null,o.map(function(t){return l.a.createElement(le.a,{className:E.tableRow,key:t.id},l.a.createElement(Z.a,{align:"left",padding:"none"},l.a.createElement(Le.a,{onChange:e.handleCheckBoxRow(t.id),checked:e.isSelected(t.id)}),l.a.createElement(se.a,{disabled:m.length>0,onClick:e.hadleClickModalRowOpen(!0,t),"aria-label":"Edit"},l.a.createElement(Ie.a,null))),l.a.createElement(Z.a,{padding:"dense",className:E.tableCellName},t.name),l.a.createElement(Z.a,{padding:"dense",align:"left",className:E.tableCellOther},t.host),l.a.createElement(Z.a,{padding:"dense",align:"left",className:E.tableCellPortSid},t.port),l.a.createElement(Z.a,{padding:"dense",align:"left",className:E.tableCellPortSid},t.sid),l.a.createElement(Z.a,{padding:"dense",align:"left",className:E.tableCellOther},t.login))}),f>0&&l.a.createElement(le.a,{style:{height:49*f}},l.a.createElement(Z.a,{colSpan:6},l.a.createElement(ve.a,{in:f===Qe},l.a.createElement(y.a,{variant:"h6",id:"tableTitle"},c?"Not found, please change filter":"Loading...")))))),l.a.createElement(ae.a,{rowsPerPageOptions:[10],component:"div",count:r,rowsPerPage:Qe,page:i,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage}),l.a.createElement($e,{hadleClickModalRowClose:this.hadleClickModalRowClose,hadleClickModalSubmit:this.hadleClickModalSubmit,handleChangeRowModal:this.handleChangeRowModal,isEditModalType:p,open:d,values:u,statusModal:h,forbidden:a}))),l.a.createElement(Re.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:g,autoHideDuration:6e3,onClose:this.handleCloseSnackbar,ContentProps:{"aria-describedby":"message-id"},message:l.a.createElement("span",{id:"message-id"},b),action:[l.a.createElement(se.a,{key:"close","aria-label":"Close",color:"inherit",className:E.snackbar,onClick:this.handleCloseSnackbar},l.a.createElement(Ne.a,null))]})):l.a.createElement(Ke.a,{to:"/"})}}]),t}(fe);Ze.propTypes={classes:U.a.object.isRequired};var _e=Object(h.withStyles)(function(e){return{root:{padding:3*e.spacing.unit,width:"70%",minWidth:1200,marginTop:7*e.spacing.unit},paperRoot:{padding:3*e.spacing.unit},paperTable:{overflowX:"auto"},tableCellName:{wordWrap:"break-word",width:"20%",minWidth:"20%"},tableCellButton:{width:"10%",minWidth:"10%"},tableCellOther:{wordWrap:"break-word",minWidth:"20%",width:"20%"},tableCellPortSid:{wordWrap:"break-word",minWidth:"15%",width:"15%"},snackbar:{padding:e.spacing.unit/2}}})(Ze),et=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(W,null),l.a.createElement(_e,null))}}]),t}(n.Component),tt=a(158),at=a.n(tt),nt=a(157),lt=a.n(nt),it=function(e){return l.a.createElement(p.a,e)},rt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={isLoad:!1,isPermissionDenied:!1,isntRedirect:!0,loginForm:{user:"",pass:""}},a.handleChangeField=function(e){return function(t){var n=a.state.loginForm;n[e]=t.target.value,a.setState({isPermissionDenied:!1,loginForm:Object(L.a)({},n)})}},a.handleSubmitLogin=function(){a.setState({isLoad:!0});var e=a.state.loginForm;!function(e,t,a){fetch("/getawr/rest/edit/in?arg1="+e+"&arg2="+t,{method:"post"}).then(a)}(e.user,e.pass,function(e){200!==e.status?a.setState({isLoad:!1,isPermissionDenied:!0}):(localStorage.setItem("isAuth","1"),a.setState({isLoad:!1,isPermissionDenied:!1,isntRedirect:!1,loginForm:{user:"",pass:""}}))})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.isLoad,n=t.isPermissionDenied,i=t.isntRedirect,r=t.loginForm;return i?l.a.createElement("div",{className:e.root},l.a.createElement(N.a,{className:e.container},l.a.createElement(N.a,{className:e.paper},l.a.createElement(ve.a,{in:a},l.a.createElement(be.a,{variant:"indeterminate",disableShrink:!0,className:e.spiner,size:24,thickness:4})),l.a.createElement(y.a,{className:e.textField,variant:"h6",color:"inherit"},"Please login"),l.a.createElement("div",{style:{height:15}},l.a.createElement(ve.a,{in:n},l.a.createElement(y.a,{variant:"body1",color:"primary"},"permision denied, please check entered data"))),l.a.createElement(re.a,{id:"standard-name",label:"Login",className:e.textField,margin:"normal",variant:"outlined",value:r.user,onChange:this.handleChangeField("user")}),l.a.createElement(re.a,{id:"standard-password-input",label:"Password",className:e.textField,type:"password",autoComplete:"current-password",margin:"normal",variant:"outlined",value:r.pass,onChange:this.handleChangeField("pass")}),l.a.createElement(C.a,{component:it,to:"/",variant:"contained",color:"primary",className:e.buttons},l.a.createElement(lt.a,{className:e.icon}),"Back"),l.a.createElement(C.a,{variant:"contained",color:"secondary",className:e.buttons,onClick:this.handleSubmitLogin},l.a.createElement(at.a,{className:e.icon}),"Login")))):l.a.createElement(Ke.a,{to:"/"})}}]),t}(n.Component),ot=Object(h.withStyles)(function(e){return{root:{margin:"10%",width:450,padding:3*e.spacing.unit},container:{padding:3*e.spacing.unit},textField:{marginTop:"5%",width:300},buttons:{marginTop:"5%",marginRight:"5%",width:140},icon:{marginRight:"10px"},paper:{padding:"10%"},spiner:{float:"right",color:"#6798e5",animationDuration:"550ms"}}})(rt),st=a(159),ct=a.n(st),dt=a(101),mt=a.n(dt),ut=a(83),ht=a.n(ut),pt=a(105),gt=a.n(pt),bt=a(106),ft=a.n(bt),Et=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={selectedIndex:-1},a.handleListItemClick=function(e,t){a.setState({selectedIndex:t})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return l.a.createElement(l.a.Fragment,null,l.a.createElement(W,null),l.a.createElement("div",{className:t.root},l.a.createElement(N.a,{className:t.paperRoot},l.a.createElement(N.a,{className:t.paperList},l.a.createElement(mt.a,{component:"nav",subheader:l.a.createElement(ct.a,{component:"div"},"History of receiving reports"),className:t.list},l.a.createElement(ht.a,{button:!0,selected:0===this.state.selectedIndex,onClick:function(t){return e.handleListItemClick(t,0)}},l.a.createElement(gt.a,null),l.a.createElement(ft.a,{inset:!0,primary:"An example entry"})),l.a.createElement(ht.a,{button:!0,selected:1===this.state.selectedIndex,onClick:function(t){return e.handleListItemClick(t,1)}},l.a.createElement(gt.a,null),l.a.createElement(ft.a,{inset:!0,primary:"An example entry"})))))))}}]),t}(n.Component),vt=Object(h.withStyles)(function(e){return{root:{width:650,minWidth:650,marginTop:7*e.spacing.unit,padding:3*e.spacing.unit},paperRoot:{padding:3*e.spacing.unit},paperList:{padding:3*e.spacing.unit},list:{backgroundColor:e.palette.background.paper}}},{withTheme:!0})(Et),Ct=Object(h.createMuiTheme)({palette:{primary:{light:"#f80000",main:"#f80000",dark:"#f80000",contrastText:"#f9fbe7"},secondary:{light:"#81d4fa",main:"#4fc3f7",dark:"#29b6f6",contrastText:"#e1f5fe"}}}),wt=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(h.MuiThemeProvider,{theme:Ct},l.a.createElement(u.a,{exact:!0,path:"/",component:je}),l.a.createElement(u.a,{exact:!0,path:"/history",component:vt}),l.a.createElement(u.a,{exact:!0,path:"/edit-list-db",component:et}),l.a.createElement(u.a,{exact:!0,path:"/login",component:ot}))}}]),t}(n.Component),yt=a(362);r.a.render(l.a.createElement(yt.a,{basename:"/getawr"},l.a.createElement(wt,null)),document.getElementById("root"))}},[[162,2,1]]]);
//# sourceMappingURL=main.dec1c10a.chunk.js.map